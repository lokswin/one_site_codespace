-- Insert a new connection
INSERT INTO guacamole_connection (connection_name, protocol)
VALUES ('Firefox VNC', 'vnc')
RETURNING connection_id;

-- Assume the returned connection_id is stored in a variable
-- Insert connection parameters
INSERT INTO guacamole_connection_parameter (connection_id, parameter_name, parameter_value)
VALUES
    (connection_id, 'hostname', 'firefox_vnc'),
    (connection_id, 'port', '5900'),
    (connection_id, 'password', 'yourpassword');

-- Grant permission to the 'guacadmin' user
INSERT INTO guacamole_connection_permission (entity_id, connection_id, permission)
VALUES
    ((SELECT entity_id FROM guacamole_entity WHERE name='guacadmin' AND type='USER'), connection_id, 'READ');
